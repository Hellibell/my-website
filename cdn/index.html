<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <title>3a1tr CDN Uploader</title>
  <style>
    body { font-family:sans-serif; max-width:600px; margin:auto; padding:20px; }
    input, button { margin:10px 0; }
    .out { background:#f5f5f5; padding:10px; border-radius:6px; }
  </style>
</head>
<body>
  <h2>อัปโหลดไฟล์ → รับลิงก์ CDN</h2>
  <input type="file" id="file" />
  <button id="btn">อัปโหลด</button>
  <div id="result" class="out">ยังไม่มีไฟล์</div>

  <script>
  document.getElementById('btn').addEventListener('click', async () => {
    const file = document.getElementById('file').files[0];
    if (!file) return alert("กรุณาเลือกไฟล์");

    const fd = new FormData();
    fd.append("file", file);

    const res = await fetch("upload.php", { method:"POST", body:fd });
    const data = await res.json();

    if (res.ok) {
      document.getElementById('result').innerHTML =
        `✔️ อัปโหลดสำเร็จ<br>
         ลิงก์: <a href="${data.url}" target="_blank">${data.url}</a>`;
    } else {
      document.getElementById('result').textContent = "❌ Error: " + (data.error || res.status);
    }
  });
  </script>
</body>
</html>
